<sly data-sly-use.searchResult="org.chi.aem.common.components.model.SearchResult"></sly>
<sly data-sly-use.template="chinational/components/commons/templates.html"></sly>

<div class="search-result">
    <h4>Search Keyword: ${searchResult.fulltext}</h4>
    <h1>Search Results</h1>
    <h3>${searchResult.totalNumberOfResult} results found</h3>
    <hr/>
    <ul>
        <sly data-sly-list="${searchResult.results}">
            <li>
                <a href="${item.path}">
                    ${item.title}
                </a>
                <p>${item.description}</p>
            </li>
        </sly>
    </ul>
    <hr/>
    <div id="search-pagination" class="pagination" data-sly-list="${searchResult.pages}">
        <a href="${currentPage.path @ extension = 'html'}?fulltext=${searchResult.fulltext}&page=${item}">${item}</a>
    </div>
    <div class="pagination">
        ${searchResult.currentPageNumber} of ${searchResult.totalNumberPages}
        <a href="${currentPage.path @ extension = 'html'}?fulltext=${searchResult.fulltext}&page=${searchResult.previousPageNumber}"
            data-sly-test="${searchResult.previousPageNumber >0}"><</a>
        ${searchResult.currentPageNumber} of ${searchResult.totalNumberPages}
        <a href="${currentPage.path @ extension = 'html'}?fulltext=${searchResult.fulltext}&page=${searchResult.nextPageNumber}"
           data-sly-test="${searchResult.nextPageNumber >0}">></a>
    </div>
</div>

<sly data-sly-call="${template.placeholder @ isEmpty=!properties.searchRoot}"></sly>
