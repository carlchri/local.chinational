<sly data-sly-use.locationCollection="org.chi.aem.common.components.model.LocationCollection"></sly>
<sly data-sly-use.coordinates="org.chi.aem.common.components.model.LocationCoordinate"></sly>

<div class="location cmponent">
<div class="row section">
	<div class="col-md-5">
		<sly data-sly-list="${locationCollection.locationDetails}">            
            <sly data-sly-test.link="${item.linkUrl != '#'}">
            	<p class="item.iconClass">
                	<span>
                        <a href="${item.linkUrl || '#'}" target="${item.targetBlank==true ?'_blank':'_self'}">
                            ${item.locationText}
                        </a>
                    </span>
                </p>
            </sly>
            <sly data-sly-test="${!link}">
            	<p class="item.iconClass">${item.locationText}</p>
            </sly>
        </sly>
        <div class="link-wrapper" 
    	     data-sly-resource="${'button' @ resourceType='chinational/components/content/button'}">
        </div>
	</div>
	<div class="col-md-7">
		<div id="map">Put map here!!!</div>
	</div>
</div>
</div>

<script>
    function initMap() {
        var uluru = {lat: ${coordinates.latCord @ context="unsafe"}, lng: ${coordinates.lngCord @ context="unsafe"}};
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 15,
            center: uluru
        });
        var marker = new google.maps.Marker({
            position: uluru,
            map: map
        });
    }
</script>
<script async defer
	    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDqUgK2PIBsQyukPU1BMoOJlPG4HhxxkS0&libraries=places&callback=initAutocomplete&callback=initMap">
    	// AIzaSyDqUgK2PIBsQyukPU1BMoOJlPG4HhxxkS0
</script>

